Mi è capitato di dover fare la stima del lavoro effettuato su un progetto in PHP: una delle prime cose da verificare è il numero di righe di codice sorgente scritte.<br/><br/>Esistono parecchi tool dedicati a questa operazione, quasi tutti commerciali.<br/><br/>Tramite <a href="http://textsnippets.com/">TextSnippets</a> ho messo mano su questo breve script bash che, lanciato nella directory radice del progetto, si occupa di contare le linee di codice effettive, escludendo commenti su uno o più righe:<br/><br/><code>find . -name '*.php' | xargs cat | sed -re ':top /\/\*.*\*\// { s/\/\*.*\*\///g ; t top }; /\/\*/ { N ; b top }' | awk '$0 !~ /^[\t[:space:]]*($|(\/\/)|(#))/' | wc -l<br/></code><br/><br/>Notevole, e funziona senza problemi su Linux, Mac e Windows con Cygwin! :-)<br/>[Via  <a href="http://textsnippets.com/posts/show/109">TextSnippets</a>]<br/><pre></pre>