<p>WordPress offre una funzionalita' comodissima per favorire l'indicizzazione dei contenuti da parte dei motori si ricerca: i <em>permalinks.</em></p><p>Questa funzione, utilizzando il modulo <em>mod_rewrite</em> di Apache, permette di convertire gli URL dei post in indirizzi piu' "amichevoli" sia per chi legge che (sopratutto!) per i motori di ricerca.</p><a name='more'></a><p>In pratica, utilizzando i permalinks, un URL come questo:</p><blockquote><p><a href="http://oldsite.andreafortuna.net/?p=57">http://oldsite.andreafortuna.net/?p=57</a></p></blockquote><p>diventa</p><blockquote><p><a href="http://oldsite.andreafortuna.net/2005/12/13/decodificato-il-filesystem-di-xbox360/">http://oldsite.andreafortuna.net/2005/12/13/decodificato-il-filesystem-di-xbox360/</a></p></blockquote><p>il tutto piu' leggibile sia da un utente che da un motore di ricerca.</p><p>Il tutto e' facilmente implementabile dalle opzioni di WordPress, ma con un limite: per utilizzare il <em>mod_rewrite</em> il blog deve essere necessariamente in hosting su server Apache.</p><p>Il mio blog invece e' <em>hostato</em> su server <em>Microsoft IIS</em>, come fare?</p><p>Dopo numerosi rimuginamenti e gironzolamenti su forum &amp; newsgroups sono arrivato alla soluzione:</p><p>realizzare una pagina .php da utilizzare come <em>error page</em> personalizzata per gli errori di tipo 404 (file non trovato), intercettare quindi l'indirizzo richiesto e passarlo a <em>index.php</em> come farebbe il modulo <em>mod_rewrite</em> su Apache.</p><p>La realizzazione e' semplice:</p><ul><li><div>Creare una pagina nella root del sito (ad esempio <em>wp-error.php</em>), contenente il codice seguente</div></li></ul><font><blockquote><p></p><p>$my_wp_url = "http://" . $_SERVER['SERVER_NAME'] . ":80/"; </p><p>$_SERVER['REQUEST_URI'] = substr($_SERVER['QUERY_STRING'], strpos($_SERVER['QUERY_STRING'], $my_wp_url)+strlen($my_wp_url)); </p><p>$_SERVER['PATH_INFO'] = $_SERVER['REQUEST_URI']; </p><p>//echo $_SERVER['PATH_INFO'];</p><p>include('index.php'); </p><p>?&gt; </p></blockquote></font><ul><li><div>Modificare (tramite il pannello di controllo del proprio hosting o direttamente dalla console di IIS) la pagina di errore 404 in modo da farla puntare all'URL <em>/wp-error.php</em>.</div></li><li><div>Attivare i permalinks dal pannello di amministrazione di WordPress.</div></li></ul><p>L'unica eventuale modifica da fare allo script PHP e' la modifica della riga</p><blockquote><p>$my_wp_url = "http://" . $_SERVER['SERVER_NAME'] . ":80/"; </p></blockquote><p>in</p><blockquote><p>$my_wp_url = "http://" . $_SERVER['SERVER_NAME'] . ":80/indirizzo_blog/"; </p></blockquote><p>se il wordpress non e' installato nella root del sito (dove naturalmente <em>/indirizzo_blog/ </em>e' la cartella di installazione di WordPress).</p>