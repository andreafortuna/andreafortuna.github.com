---
layout: post
title: Importare una macchine fisica in una macchina virtuale VirtualBox
date: '2013-07-29T10:43:00.001+02:00'
author: Andrea Fortuna
tags:
- Disk2vhd
- Tips
- VirtualBox
modified_time: '2013-07-29T10:43:35.484+02:00'
thumbnail: http://3.bp.blogspot.com/-O-MV_0p93E8/UfYpT-gS4yI/AAAAAAAAFaM/E4tKjQviLD0/s72-c/Virtualbox_ubuntu_pa007world.png
blogger_id: tag:blogger.com,1999:blog-1948348952555789070.post-8091102827693974402
blogger_orig_url: http://www.andreafortuna.org/2013/07/importare-una-macchine-fisica-in-una.html
---

<a href="http://3.bp.blogspot.com/-O-MV_0p93E8/UfYpT-gS4yI/AAAAAAAAFaM/E4tKjQviLD0/s1600/Virtualbox_ubuntu_pa007world.png" imageanchor="1" style="clear: right; float: right; margin-bottom: 1em; margin-left: 1em;"><br /><img border="0" height="200" src="http://3.bp.blogspot.com/-O-MV_0p93E8/UfYpT-gS4yI/AAAAAAAAFaM/E4tKjQviLD0/s200/Virtualbox_ubuntu_pa007world.png" width="200" /></a>Mi e' capitato di assistere un utente nella <i>migrazione</i>&nbsp;da un vecchio laptop (ormai con seri problemi alla scheda madre e prossimo alla dipartita) a un nuovo computer portatile.<br /><br />Il vecchio PC montava <b>WindowsXP</b>, conteneva almeno 6 anni di dati <i>stratificati</i>&nbsp;e alcune copie di vecchi software licenziati (uno su tutti, una vecchia versione di <b>Lotus Notes</b>) delle quali erano stati smarriti media di installazione e licenze.<br /><br />Migrare dati e software sembrava quindi abbastanza complicato: il vecchio laptop tendeva ad andare in freeze appena la temperatura della cpu superava i 20 gradi.<br /><br />Ho giocato quindi la carta della virtualizzazione: smonto il portatile, estraggo il disco rigido e lo monto in un box <b>SATA-USB</b>. L'idea e' quella di realizzare un'immagine del disco fisico da utilizzare in una macchina virtuale da far eseguire da <b><a href="http://www.virtualbox.org/" target="_blank">VirtualBox</a> </b>sul nuovo computer.<br /><br /><a name='more'></a><br /><br />Avendo a disposizione solo PC con windows, e non volendo scaricare e masterizzare una distro live di Linux come suggerisce il <a href="https://www.virtualbox.org/wiki/Migrate_Windows" target="_blank">tutorial</a> sul sito di <b>VirtualBox</b>, decido di utilizzare un tool ufficiale Microsoft.<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://i.technet.microsoft.com/ee656415.Disk2vhd163r(en-us,MSDN.10).jpg" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" src="http://i.technet.microsoft.com/ee656415.Disk2vhd163r(en-us,MSDN.10).jpg" /></a></div>Il tool in questione e' <a href="http://technet.microsoft.com/en-us/sysinternals/ee656415.aspx" target="_blank">Disk2vhd</a>, e permette di creare un'immagine disco a partire da un disco fisico: il formato dell'immagine e' VHD (Virtual Hard Disk - Microsoft's Virtual Machine disk format), che fortunatamente viene pienamente supportato da VirtualBox.<br /><br /><a href="http://2.bp.blogspot.com/-We2jxCHeZRU/UfYqZBh2FKI/AAAAAAAAFac/y2PNMzwTWiE/s1600/vbox2.png" imageanchor="1" style="clear: right; float: right; margin-bottom: 1em; margin-left: 1em;"><img border="0" height="271" src="http://2.bp.blogspot.com/-We2jxCHeZRU/UfYqZBh2FKI/AAAAAAAAFac/y2PNMzwTWiE/s320/vbox2.png" width="320" /></a>L'utilizzo e' banale: una volta avviata l'utility basta selezionare il disco da importare e scegliere la directory in cui salvare l'immagine.<br />La procedura e' anche abbastanza veloce: un disco da 60Gb e' stato importato in meno di 15 minuti.<br /><br />Una volta creata l'immagine, ho creato una nuova macchina virtuale e, al momento di scegliere se creare un nuovo disco o utilizzarne uno esistente, ho selezionato la seconda opzione e specificato il path del file appena creato.<br /><br />Per limitare al minimo la possibilita' che il cambio di hardware non permetta il corretto avvio della macchina virtuale, ho apportato un paio di piccole modifiche alla configurazione: nella sezione <i>Sistema</i>&nbsp;ho modificato il chipset in ICH9, abilitando anche IO PIC.<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-D1UknDXYkjs/UfYo-ibWHmI/AAAAAAAAFaE/yEgvBzGCC10/s1600/vbox.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="330" src="http://1.bp.blogspot.com/-D1UknDXYkjs/UfYo-ibWHmI/AAAAAAAAFaE/yEgvBzGCC10/s640/vbox.png" width="640" /></a></div><br />Una volta avviata la macchine virtuale, ho installato i <a href="http://www.virtualbox.org/manual/ch04.html" target="_blank">VirtualBox Guest Additions</a> e creato uno shortcut sul desktop del PC host per l'avvio veloce della macchina emulata.<br /><br />