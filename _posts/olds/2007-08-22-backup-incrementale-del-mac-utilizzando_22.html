---
layout: post
title: Backup incrementale del Mac utilizzando rsync
date: '2007-08-22T09:57:00.001+02:00'
author: Andrea Fortuna
tags:
- Apple
modified_time: '2012-04-26T14:21:52.763+02:00'
blogger_id: tag:blogger.com,1999:blog-1948348952555789070.post-7266679884715253630
blogger_orig_url: http://www.andreafortuna.org/2007/08/backup-incrementale-del-mac-utilizzando_22.html
---

[digg=http://digg.com/apple/Backup_incrementale_del_Mac_utilizzando_rsync]Uno script semplicissimo, utile per mantenere sincronizzata una copia della propria home directory su un disco esterno.<br/><br/>Utilizzando infatti <em>rsync </em>(presente di default in MacOsX) e' possibile sincronizzare due directory in questo modo:<br/><code>rsync -aE ~ /Volumes/BACKUPS/HomeBackup</code><br/>(Opzione -aE: copia nella cartella di destinazione i file che sono stati modificati nella cartella sorgente ~ o nelle sue sottocartelle e tutti i files non ancora presenti nella cartella di destinazione /Volumes/BACKUPS/HomeBackup. Ignora i file identici in entrambi le directory. )<br/><br/>Aggiungendo anche l'opzione <em>--delete</em> si chiede a rsync di eliminare nella cartella di destinazione eventuali file cancellato in quella di origine (nell'ottica di un backup sicuro tale opzione dovrebbe essere utilizzata con notevole attenzione) e con --progress viene restituito su stdout un log dell'operazione.<br/><br/>Con questi elementi possiamo realizzare un piccolo AppleScript per automatizzare il nostro backup.<br/>Apriamo quindi lo ScriptEditor (Applicazioni/AppleScript) e digitiamo quanto segue:<br/><code>do shell script "rsync -aE --progress ~ " &amp; quoted form of "/Volumes/BACKUPS/HomeBackup" &amp; " &gt;&gt; ~/backup.log"</code><br/>(<em>quoted form of</em> e' necessario per evitare errori in caso il path di destinazione contenga spazi)<br/><br/>A questo punto possiamo salvare il nostro script nella cartella ~/Libreria/Scripts e,  se avete abilitato dalle preferenze di AppleScript la voce "Mostra il menu Script nella barra dei Menu'" potrete richiamarlo direttamente dalla barra dei menu con un semplice click o eventualmente schedularlo con gli avvisi periodici di iCal.