---
layout: post
title: .NET Style and Naming Guidelines
date: '2006-10-09T23:25:00.001+02:00'
author: Andrea Fortuna
tags:
- Programming
modified_time: '2012-04-26T14:23:36.521+02:00'
blogger_id: tag:blogger.com,1999:blog-1948348952555789070.post-8231345421235553937
blogger_orig_url: http://www.andreafortuna.org/2006/10/net-style-and-naming-guidelines_09.html
---

Recentemente mi sono trovato a lavorare con dei colleghi con lo scopo di redigere delle linee guida comuni per lo sviluppo in .NET.<br/>Naturalmente come documentazione di partenza è stata usata quella presente su <a href="http://msdn.microsoft.com/" title="MSDN">MSDN</a> e sui blog di sviluppatori .NET.<br/><br/>Ecco un breve riassunto di quanto è uscito da questo 'Brain Storming' :-)<br/><h1><a title="_Toc63252402" name="_Toc63252402"></a><span style="font-size:12pt;">Style Guidelines</span></h1><br/>Le Style Guidelines puntano a regolamentare lo stile di scrittura del codice, in modo da rendere i listati il piu' possibile leggibili.<br/><br/><span style="font-weight:bold;">Indentazione e tabulazioni</span><br/><br/>Non credo sia necessario ribadire l'importanza dell'indentazione nella redazione di codice leggibile.<br/>L'indentazione standard e' di 4 spazi.<br/>Parecchi testi a riguardo sconsigliano l'utilizzo del tasto di tabulazione (0x09), in quanto il carattere non viene identificato allo stesso modo da tutti gli editor: nel nostro caso ci viene incontro il sistema di editing di Visual Studio che si occupa di convertire la pressione del tasto TAB in 4 spazi.<br/><br/><span style="font-weight:bold;">Parentesi</span><br/><br/>Nel caso di linguaggi che utilizzano le parentesi graffe {} per racchiudere blocchi di codice le parentesi di apertura devono trovarsi all'inizio della linea successiva al frammento di codice che apre il blocco; il codice contenuto nelle parentesi deve essere indentato di 4 spazi.<br/><br/><span style="font-style:italic;">Es.</span><br/><br/><div style="margin-left:40px;">  if (Qualcosa)<br />  {<br />  <span>    </span>FaiQualcosa();<br />  }<br />  else<br />  {<br />  <span>    FaiQualcosaltro</span>();<br />  }<br /> </div><br/><br/><span style="font-weight:bold;">Commenti</span><br/><br/>I commenti dovrebbero essere usati per descrivere il maggior numero di informazioni utili alla comprensione da parte di terzi del codice che si va a realizzare.<br/>Non ci sono linee guida riguardanti i commenti nella documentazione del .NET Framework, tuttavia sappiamo che e' commentando seguendo lo standard XML possiamo rendere il nostro codice 'parlante':<br/><br/><div style="margin-left:40px;">  /// <br />  /// Scriviamo una descrizione per la classe Class1<br />  /// <br />  /// Un parametro!<br />  /// Informazioni ad uso interno<br />  public class Class1<br />  {<br />      public Class1()<br />      {<br />          //<br />          // TODO: Add constructor logic here<br />          //<br />      }<br /> </div><br/>A questo punto la classe Class1 e' diventata 'parlante':<br/><br/><a href="http://andreafortuna.files.wordpress.com/2006/10/file1.gif"><img src="http://andreafortuna.files.wordpress.com/2006/10/file1.gif" style="margin:5px;" border="0" height="166" width="418" /></a><br/><br/>Questo standard dovrebbe essere rispettato per tutte le classi e i membri presenti in un progetto, allo scopo di rendere chiaro e fruibile il codice ad altri partecipanti allo sviluppo nella maniera piu' rapida possibile.<br/><br/><span style="font-weight:bold;">Uso degli spazi</span><br/><br/>E' possibile rendere il codice piu' leggibile diminuendone la densita' utilizzando i caratteri di spazio:<br/><ul><br/>	<li>Usare uno spazio dopo una virgola usata per separare gli argomenti di una funzione<br/><span style="font-style:italic;">Es.</span><br/><span style="font-size:10pt;"></span><span style="font-family:Lucida Console;">Console.In.Read(myChar, 0, 1); </span></li><br/>	<li><span style="font-size:10pt;"></span><span style="font-family:Lucida Console;">NON usare spazi prima della parentesi di chiusura<br/></span><span style="font-style:italic;">Es.<br/></span> <span style="font-size:10pt;"></span><span style="font-family:Lucida Console;">Console.In.Read(myChar, 0, 1 ); </span></li><br/>	<li><span style="font-size:10pt;"></span><span style="font-family:Lucida Console;">NON usare spazi tra il nome della funzione e le parentesi<br/></span><span style="font-style:italic;">Es.<br/></span> <span style="font-size:10pt;"></span><span style="font-family:Lucida Console;">Console.In.Read (myChar, 0, 1); </span></li><br/>	<li><span style="font-size:10pt;"></span><span style="font-family:Lucida Console;">Usare spazi prima dei controlli di flusso<br/></span><span style="font-style:italic;">Es.</span><br/>w<span style="font-size:10pt;"></span><span style="font-family:Lucida Console;">hile (x == y)<br/></span> <span style="font-size:10pt;"></span><span style="font-family:Lucida Console;">if (x == y)</span></li><br/></ul><br/><span style="font-size:14pt;"></span><span style="font-style:italic;font-weight:bold;"></span><br/><br/><span style="font-size:12pt;">Naming Guidelines</span><br/><br/>La <span style="font-style:italic;">Coding Guidelines</span> specifica le regole che devono essere applicate per scrivere il codice rispettando determinati criteri di sintassi e di forma.<br/><br/>La <span style="font-style:italic;">Naming Guidelines</span> rappresenta quindi un sottoinsieme della <span style="font-style:italic;">Coding Guidelines</span> e si focalizza nel descrivere le linee guida sulla nomenclatura dei membri(classi, interfacce, ...)<br/><br/>La necessità di avere delle regole comuni sulle modalità di scrittura del codice non è una novità introdotta con i nuovi linguaggi del Framework .Net: ad esempio la Notazione Ungherese è stata ed è ancora oggi una delle pratiche più conosciute dalle comunità di sviluppatori.<br/><br/>Con l'introduzione del Framework .Net, Microsoft ha introdotto una nuova modalità di nomenclatura del codice, più adatta ai nuovi linguaggi(completamente object-oriented) e più adatta ai nuovi tools di sviluppo.<br/><br/><span style="font-weight:bold;font-style:italic;">Naming Guidelines per librerie pubbliche</span><br/><br/>Si applicano :<br/><ul><br/>	<li>per qualsiasi membro pubblicamente esposto</li><br/>	<li>in generale per tutte quelle parti di codice che sono documentate</li><br/></ul><br/>L’obiettivo è quello di fornire agli sviluppatori partecipanti un unica modalità di pubblicazione delle parti pubbliche di componenti e librerie in modo da garantirne la consistenza con il resto del progetto e del Framework .NET.<br/><br/><span style="font-weight:bold;font-style:italic;">Naming Convention</span><br/><br/>Tre brevi concetti prima di iniziare con l'argomento:<br/><ul><br/>	<li>Si definiscono <span style="font-style:italic;">Pascal Cased</span> i nomi che hanno tutte le iniziali maiuscole.<br/><span style="font-style:italic;">Es.</span> RecuperaDatiCliente</li><br/></ul><br/><ul><br/>	<li>Sono <span style="font-style:italic;">Camel Cased</span> quelli che hanno l’iniziale della prima parola minuscola e le iniziali delle rimanenti parole maiuscole<br/><span style="font-style:italic;">Es.</span> getElementById</li><br/></ul><br/><ul><br/>	<li>Nella <span style="font-style:italic;">notazione ungherese</span>, un nome di variabile inizia con un prefisso costituito da una o più lettere minuscole in modo da formare un codice mnemonico per il tipo o lo scopo di questa variabile. Il prefisso è seguito dal nome scelto dal programmatore; quest'ultima parte è spesso indicata come il “nome assegnato”.<br/>Il primo carattere del nome assegnato è in maiuscolo per separarlo visivamente dal prefisso (quindi in <span style="font-style:italic;">Camel Case</span>)<br/><span style="font-style:italic;">Es.</span></li><br/></ul><br/><ul><br/>	<li>nSize: numero intero</li><br/>	<li>dwLightYears: double word</li><br/>	<li>bBusy: boolean</li><br/></ul><br/>Le linee guida da applicare sono :<br/><ul><br/>	<li>Tutti i tipi e membri pubblici devono essere Pascal Cased (i membri “protected” fanno parte dei membri pubblici)</li><br/></ul><br/><p style="margin-left:40px;"><span style="font-style:italic;">Es.</span></p><br/><br/><p style="margin-left:80px;">class MyClass {<br/>public string ClassName { ... }    protected string GetClassName() { ... }<br/>}<br/><ul><br/>	<li>I parametri devono essere Camel Cased</li><br/></ul><br/></p><p style="margin-left:40px;"><span style="font-style:italic;">Es.</span></p><br/><p style="margin-left:80px;">public void LoadData(int objectId) { ... }</p><br/><br/><ul><br/>	<li>Gli acronimi sono gestiti All Cased se di 2 caratteri, Pascal Cased altrimenti</li><br/></ul><br/><p style="margin-left:40px;"><span style="font-style:italic;"><br/>Es.</span><br/><br/></p><p style="margin-left:80px;">public int ID;<br/>public string Html;<br/><ul><br/>	<li>Non è permesso l’utilizzo della Notazione Ungherese</li><br/></ul><br/></p><p style="margin-left:40px;"><span style="font-style:italic;">Es.</span></p><br/><br/><p style="margin-left:80px;">int iObjectId;<br/>string strText;<br/><br/>Nella definizione dei nomi di metodi, eventi e proprietà con modificatori di accesso public, protected o internal :<br/><ul><br/>	<li>Non usare gli underscores (_)</li><br/>	<li>Non usare parole tutte maiuscole o tutte minuscole</li><br/>	<li>Non usare la <span style="font-style:italic;">Notazione Ungherese</span></li><br/></ul><br/>Usare i nomi al plurale per metodi e proprietà che ritornano collections o array<br/><br/><span style="font-style:italic;">Es.</span><br/><br/></p><p style="margin-left:40px;">public MemberCollection GetMembers();<br/>public Member GetMember()<br/><br/>Utilizzare il prefisso "Is", "Has" o "Can" nel caso di metodi che restituiscono un boolean<br/><br/><span style="font-style:italic;">Es.</span><br/><br/></p><p style="margin-left:40px;">public boolean IsMemberOfTeam();<br/>public boolean HasRows();<br/>public boolean CanWrite();<br/><br/><span style="font-weight:bold;font-style:italic;">Identificatori dei controlli visuali</span><br/><br/>Su questo argomento è avvenuto il cosiddetto 'scisma degli sviluppatori': sono saltate fuori 2 soluzioni, una basata sulla notazione ungherese e una orientata a sfruttare appieno le funzionalità di autocompletamento del codice presenti in Visual Studio 2005.<br/><br/>Come già detto, la prima scelta suggerisce l'utilizzo della ungherese, con i primi 3 (o 4) caratteri in minuscolo ad identificare il tipo di controllo.<br/><br/>Ecco un breve lista dei possibili prefissi da utilizzare:<br/><table border="0" cellpadding="3" cellspacing="0"><br/><tr><br/><td width="50%">Controllo</td><br/><td width="50%">Prefisso</td><br/></tr><br/><tr><br/><td width="50%">Button</td><br/><td width="50%">btn</td><br/></tr><br/><tr><br/><td width="50%">ComboBox</td><br/><td width="50%">cmb</td><br/></tr><br/><tr><br/><td width="50%">CompareValidator</td><br/><td width="50%">cmv</td><br/></tr><br/><tr><br/><td width="50%">CustomValidator</td><br/><td width="50%">ctv</td><br/></tr><br/><tr><br/><td width="50%">DataGrid</td><br/><td width="50%">dgr</td><br/></tr><br/><tr><br/><td width="50%">DateTimePicker</td><br/><td width="50%">dtp</td><br/></tr><br/><tr><br/><td width="50%">DropDownList</td><br/><td width="50%">ddl</td><br/></tr><br/><tr><br/><td width="50%">Form</td><br/><td width="50%">frm</td><br/></tr><br/><tr><br/><td width="50%">Label</td><br/><td width="50%">lbl</td><br/></tr><br/><tr><br/><td style="vertical-align:top;">LinkLabel</td><br/><td style="vertical-align:top;">lnk</td><br/></tr><br/><tr><br/><td style="vertical-align:top;">Panel</td><br/><td style="vertical-align:top;">pnl</td><br/></tr><br/><tr><br/><td style="vertical-align:top;">RequiredFieldValidator</td><br/><td style="vertical-align:top;">rfv</td><br/></tr><br/><tr><br/><td style="vertical-align:top;">RegularExpressionValidator</td><br/><td style="vertical-align:top;">rxv</td><br/></tr><br/><tr><br/><td style="vertical-align:top;">TextBox</td><br/><td style="vertical-align:top;">txt</td><br/></tr><br/><tr><br/><td style="vertical-align:top;">GroupBox</td><br/><td style="vertical-align:top;">grp</td><br/></tr><br/><tr><br/><td style="vertical-align:top;">Ecc...</td><br/><td style="vertical-align:top;">Ecc...</td><br/></tr><br/></table><br/>L'altra possibilità suggerisce la possibilità di usare un codice piu' complesso per identificare i controlli visuali:<br/><ul><br/>	<li>un prefisso di 2/3 lettere ad identificare il gruppo di controlli instanziati dall'utente (in questo caso 'ux')</li><br/>	<li>il nome scelto per la variabile, in Pascal Case</li><br/>	<li>Il nome del tipo di controllo creato, in Pascal Case</li><br/></ul><br/>Esempio:<br/><span style="font-style:italic;">uxIndirizzoTextBox</span><br/><span style="font-style:italic;"><br/></span>In questo modo, in fase di scrittura del codice, basta digitare 'ux' e attivare l'autocompletamento per avere l'elenco dei controlli visuali presenti nel progetto; da li, aggiungendo le prime lettere del controllo possiamo completare la stringa con minori battute sulla tastiera.<br/><br/>Dopo lunghe disquisizioni, la scelta è caduta sulla seconda ipotesi. :-D<br/><br/><span style="font-weight:bold;font-style:italic;">Class, Structs and Interfaces</span><br/><br/>Nella definizione di classi e interfacce :<br/><ul><br/>	<li>Non usare prefissi per i nomi delle classi</li><br/></ul><br/></p><p style="margin-left:40px;"><span style="font-style:italic;">Es.</span></p><br/><br/><p style="margin-left:80px;">// errato<br/>public class CPersona {...}<br/>// corretto<br/>public class Persona {...}<br/><ul><br/>	<li>Usare il prefisso “I” per i nomi delle interfacce</li><br/></ul><br/></p><p style="margin-left:40px;"><span style="font-style:italic;">Es.</span></p><br/><p style="margin-left:80px;">public interface IPersona {...}</p><br/><br/><ul><br/>	<li>Utilizzare un nome composto per le classi derivate, aggiungendo come suffisso il nome, o parte del nome, della classe base</li><br/></ul><br/><span style="font-style:italic;"><br/></span><br/><p style="margin-left:40px;"><span style="font-style:italic;">Es.</span></p><br/><br/><p style="margin-left:80px;">public class PersoneCollection : CollectionBase {...}<br/>public class CustomEventArgs : EventArgs {...}<br/>public class CustomException : Exception {...}<br/><br/>Le classi non hanno bisogno di essere identificate da un prefisso in quanto rappresentano la struttura di default di ogni applicazione realizzata con il .Net Framework.<br/><br/>Per le interfacce è invece necessario utilizzare il prefisso “I” in modo da distinguerle dalle classi.<br/><br/><span style="font-style:italic;font-weight:bold;">Denominazione degli Alias di namespace</span><br/><br/>Le <span style="font-style:italic;">Naming Guidelines</span> documentate nel .NET Framework non suggeriscono se usare il Pascal Case o il Camel case con gli alias di namespace.<br/><br/>Nel C# tuttavia una delle funzioni dell'operatore :: è quella distinguere l'ambiguità che si può creare quando si definisce un Alias omonimo di un tipo, ad esempio:<br/><br/></p><p style="margin-left:40px;">using Sql = System.Data.Sql;<br/>Class Sql {}<br/>...<br/>Sql::DataRow riga = null;<br/><br/>Questo suggerisce quindi che per evitare problemi inutili (collisioni tra nomi degli alias e dei tipi) è preferibile utilizzare il <span style="font-style:italic;">Camel case</span>.<br/><br/><span style="font-weight:bold;font-style:italic;">Naming Issues</span><br/><br/>E’ molto importante definire con accortezza anche i nomi che si vogliono assegnare ai membri pubblici di una classe che sarà esposta ed utilizzata da altri sviluppatori :<br/><ul><br/>	<li>Usare nomi che abbiano un significato, che siano “parlanti”</li><br/>	<li>Scegliere una lingua per identificatori e commenti</li><br/>	<li>Evitare le abbreviazioni</li><br/>	<li>Guardare se esistono nomi già utilizzati e conosciuti per quello che vogliamo descrivere</li><br/></ul><br/></p><p style="margin-left:40px;"><span style="font-style:italic;">Es.</span><br/>MyCollection.Count vs MyCollection.NumberOfElements (la proprietà Count è usata in framework diversi ed<br/>è facilmente riconoscibile dallo sviluppatore, non<br/>occore un nome nuovo,in questo esempio NumberOfElements<br/>per specificare il concetto)<br/><br/>Fonte: <a href="http://blogs.msdn.com/brada/" title="Blog di Brad Abrams">Blog di Brad Abrams</a> e sezione "Designing .Net Class Libraries" di MSDN.</p>