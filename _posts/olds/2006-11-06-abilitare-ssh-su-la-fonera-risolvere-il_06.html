---
layout: post
title: 'Abilitare SSH su La Fonera: risolvere il problema del LOGIN FAILED'
date: '2006-11-06T14:28:00.001+01:00'
author: Andrea Fortuna
tags:
- Hacking
modified_time: '2012-04-26T14:23:36.382+02:00'
blogger_id: tag:blogger.com,1999:blog-1948348952555789070.post-1981035421889268258
blogger_orig_url: http://www.andreafortuna.org/2006/11/abilitare-ssh-su-la-fonera-risolvere-il_06.html
---

La <a href="http://stefans.datenbruch.de/lafonera/">voce</a> è girata rapidamente: facendo un po' di <em>injection</em> sui form del sito del progetto Fon è possibile inviare al proprio device i comandi necessari ad aprire il firewall sulla porta 22 e avviare dropbear (una server ssh).<br/><br/>A quel punto con un paio di modifiche ai file di configurazione è possibile rendere la modifica permanente.<br/><br/>Non mi dilungo in spiegazioni, visto che già <a href="http://www.andreabeggi.net/2006/11/05/hacking-de-la-fonera/">Andrea Beggi</a> e <a href="http://www.zarrelli.org/blog/index.php/2006/11/06/aprire-ssh-su-la-fonera-senza-aprirla/">Giorgio Zarrelli</a> hanno riportato tutti i passi necessari allo 'sblocco'.<br/><br/>Ho notato però che non sempre lo <a href="http://stefans.datenbruch.de/lafonera/scripts/shellfon.pl">script perl</a> pubblicato da Stefan Tomanek funziona a dovere: su alcune versioni di perl si blocca rilasciando questo errore<br/><blockquote>LOGIN FAILED at shellfon.pl line 30, line 2</blockquote><br/><blockquote></blockquote><br/>Per risolvere il problema e far girare lo script senza errori basta fare una piccola modifica:<br/><br/>sostituire la riga<br/><blockquote> # create a new browser<br/>my $browser = WWW::Mechanize-&gt;new( );</blockquote><br/>con questa<br/><blockquote># create a new browser<br/>my $browser = WWW::Mechanize-&gt;new(<br/>autocheck =&gt; 1,<br/>);</blockquote><br/>Aggiungendo "autocheck =&gt; 1" facciamo gestire direttamente all'oggetto WWW::Mechanize gli eventuali errori di I/O.<br/><br/>A questo punto lo script funziona regolarmente, e riavviata la Fonera avviene la magia:<br/><blockquote>ibook-g4-di-andrea-fortuna:~ andrea$ ssh root@192.168.10.1<br/>root@192.168.10.1's password:<br/><br/>BusyBox v1.1.3 (2006.08.17-19:56+0000) Built-in shell (ash)<br/>Enter 'help' for a list of built-in commands.<br/><br/>_______ _______ _______<br/>| ____|| || _ |<br/>| ____|| - || | | |<br/>| | |_______||__| |__|<br/>|___|<br/><br/>Fonera Firmware (Version 0.7.0 rev 4) -------------<br/>*<br/>* Based on OpenWrt - http://openwrt.org<br/>* Powered by FON - http://www.fon.com<br/>---------------------------------------------------<br/>root@OpenWrt:~#</blockquote>