---
layout: post
title: Introduzione a ZFS
date: '2007-06-13T20:48:00.001+02:00'
author: Andrea Fortuna
tags:
- Unix
modified_time: '2012-04-26T14:21:52.734+02:00'
blogger_id: tag:blogger.com,1999:blog-1948348952555789070.post-558934426018067839
blogger_orig_url: http://www.andreafortuna.org/2007/06/introduzione-zfs_13.html
---

In seguito <a href="http://www.melablog.it/post/3894/wwdc-07-analisi-di-un-keynote-annunciato">WWDC 07</a> e al mancato annuncio dell'introduzione di ZFS in Leopard nella blogsfera non si parla che di questo filesystem...vediamo quindi di capire di cosa si tratta.<br/><br/>Ci viene in aiuto Wikipedia:<br/><blockquote> <strong>ZFS</strong> è un file system open-source sviluppato dalla Sun Microsystems per il suo sistema operativo Solaris. È stato progettato da un team con a capo <span class="new">Jeff Bonwick</span>. Il nome originario doveva essere "<em>Zettabyte File System</em>", ma è diventato un acronimo.</blockquote><br/>Le caratteristiche principali:<br/><br/><strong>File system a 128 bit</strong><br/>La dimensione massima gestibile dei dati è miliardi di volte più grande degli attuali file system a 64 bit.<br/>Il limite teorico e' infatti di 16 Exabyte::<br/><blockquote>L'<strong>exabyte</strong> è un unità di misura dell'informazione o della quantità di dati, il termine deriva dalla unione del prefisso <strong>exa</strong> con <strong>byte</strong> ed ha per simbolo <strong>EB</strong>.<br/>A causa dell'uso improprio dei prefissi binari nel definire e usare il kilobyte, il valore dell'exabyte nella pratica comune ha potuto assumere i seguenti significati:<br/><ul><br/>	<li>1.000.000.000.000.000.000 byte = 1000<sup>6</sup> = 10<sup>18</sup> byte = 1 trilione di byte</li><br/></ul><br/></blockquote><br/><strong>Copy on Write</strong><br/>Nessun blocco del disco contente dati attivi viene mai sovrascritto in operazioni di modifica. I dati modificati vengono scritti in un nuovo blocco assegnato per l'operazione.<br/><span> Le operazioni Copy-On-Write avvengono in modo tale da spostare il puntatore al blocco di dati dopo il completamento della transazione: in questo modo, i puntatori ai dati "buoni" non si spostano finché la scrittura non è completa, e non c'è bisogno di filesystem journaling, logging, o di un resinc del mirror se la macchina si riavvia inaspettatamente.</span><br/><br/><strong>Snapshot</strong><br/>Invece di cancellare i vecchi dati rimasti, in seguito a operazioni di modifica eseguite con il sistema Copy on Write, ZFS può mantenere le vecchie informazioni insieme a quelle nuove (spazio permettendo) riuscendo così a creare velocemente istantanee del sistema.<br/>Il limite teorico di snapshots e' di 2<sup>48</sup> (2 × 10<sup>14</sup>).<br/><br/><strong>Gestione ottimizzata per file di piccole dimensioni</strong><br/>Con l'aumentare della capacità dei moderni dischi fissi, la registrazione dei file di piccole dimensioni è diventata sempre meno efficiente, stesso discorso per la lettura e la scrittura. ZFS risolve entrambi questi inconvenienti<br/><br/><strong>Gestione logica per sistemi di archiviazione composti da più dischi</strong><br/>I file system tradizionali risiedono su un unico dispositivo, così necessitano di un sistema per la gestione dei volumi quando lavorano con più unità.<br/>ZFS lavora con un sistema virtuale di dischi, rendendo così possibile l'aggiunta di un disco senza dover formattare o partizionare nulla.<br/><br/><span><strong>End-to-End checksumming</strong><br/>serve ad evitare possibili errori dovuti al fatto che il checksum è salvato all'interno del blocco stesso che controlla, e quindi manca una verifica esterna di validità. Le possibilità di errore vengono risolte da questo file system salvando il checksum al di fuori del blocco, e tra questo e il cosiddetto uberblock, che è l'unico ad avere un checksum auto-validante SHA-256. Tutti i controlli sui blocchi vengono effettuati in modo tale che gli errori vengano intercettati senza peraltro mettere in ginocchio la CPU.</span><br/><br/><strong>Rispetto dello standard POSIX </strong><br/>nessuna applicazione deve quindi essere modificata per funzionare con il nuovo file system.<br/><br/>Fonti:<br/><a href="http://www.programmazione.it/index.php?entity=eitem&amp;idItem=35328">Programmazione.it</a>, <a href="http://www.paolinoland.it/index.php?option=com_content&amp;task=view&amp;id=78&amp;Itemid=2">PaolinoLand.it</a>, <a href="http://it.wikipedia.org/wiki/ZFS">Wikipedia</a>